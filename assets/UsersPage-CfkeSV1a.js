import{r as a,b as S,j as e,L as C}from"./index-BtDuSHOe.js";import{T as $}from"./TwemojiText-CUsh35NJ.js";import{u as E,s as F,m as u,v as A,c as N,p as U,a as z,l as R,b as B,d as I,e as h,g as T,f as V}from"./Tracker-SL_76LF4.js";import{r as v}from"./IR-Network-2ktbiwh_.js";import{F as O}from"./ArrowTopRightOnSquareIcon-DVgTq8IB.js";function P({title:r,titleId:l,...d},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},d),r?a.createElement("title",{id:l},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const k=a.forwardRef(P);function D({title:r,titleId:l,...d},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},d),r?a.createElement("title",{id:l},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const M=a.forwardRef(D);function W({title:r,titleId:l,...d},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},d),r?a.createElement("title",{id:l},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const q=a.forwardRef(W),G=r=>e.jsx(q,{...r,className:`w-5 h-5 ${r.className||""}`}),Y=r=>e.jsx(O,{...r,className:`w-5 h-5 ${r.className||""}`}),X=()=>{const[r,l]=S(),d=r.get("search")||"",o=r.get("location")||"",m=r.get("sort")||"follower_count",x=r.get("order")||"desc",b=a.useRef(null),_=a.useMemo(()=>{const s=new Set(v.map(t=>t.account_based_in||"Unknown"));return Array.from(s).sort()},[]),j=a.useMemo(()=>{let s=v;if(d){const t=d.toLowerCase();s=s.filter(n=>{var c,i,p;return((c=n.name)==null?void 0:c.toLowerCase().includes(t))||((i=n.username)==null?void 0:i.toLowerCase().includes(t))||((p=n.account_based_in)==null?void 0:p.toLowerCase().includes(t))})}return o&&o!=="All"&&(s=s.filter(t=>(t.account_based_in||"Unknown")===o)),s=[...s].sort((t,n)=>{let c=t[m],i=n[m];return c==null&&(c=""),i==null&&(i=""),typeof c=="number"&&typeof i=="number"?x==="asc"?c-i:i-c:x==="asc"?String(c).localeCompare(String(i)):String(i).localeCompare(String(c))}),s},[d,o,m,x]),g=E({count:j.length,getScrollElement:()=>b.current,estimateSize:()=>65,overscan:10}),y=s=>{l(t=>(s?t.set("search",s):t.delete("search"),t),{replace:!0})},L=s=>{l(t=>(s&&s!=="All"?t.set("location",s):t.delete("location"),t),{replace:!0})},f=s=>{const t=m===s&&x==="asc";l(n=>(n.set("sort",s),n.set("order",t?"desc":"asc"),n),{replace:!0})},w=({column:s})=>m!==s?e.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-20",children:e.jsx(k,{})}):x==="asc"?e.jsx(M,{className:"w-4 h-4 ml-1 inline-block text-blue-500"}):e.jsx(k,{className:"w-4 h-4 ml-1 inline-block text-blue-500"});return e.jsxs("div",{className:"h-full w-full bg-slate-950 p-6 md:p-10 flex flex-col",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4 shrink-0",children:[e.jsxs("div",{children:[e.jsx(F,{className:"text-3xl text-slate-100",children:"User Directory"}),e.jsxs(u,{className:"text-slate-400",children:["Browsing ",j.length.toLocaleString()," users in the network."]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[e.jsx("div",{className:"w-full md:w-64",children:e.jsxs(A,{value:o||"All",onValueChange:L,placeholder:"Filter by Location",className:"bg-slate-900 border-slate-700 text-slate-200",children:[e.jsx(N,{value:"All",children:"All Locations"}),_.map(s=>e.jsx(N,{value:s,children:s},s))]})}),e.jsx("div",{className:"w-full md:w-80",children:e.jsx(U,{icon:G,placeholder:"Search by name, handle, or location...",value:d,onChange:s=>y(s.target.value),className:"bg-slate-900 border-slate-700 text-slate-200"})})]})]}),e.jsxs(z,{className:"bg-slate-900 ring-slate-800 p-0 flex-1 overflow-hidden flex flex-col",children:[e.jsx(R,{className:"w-full",children:e.jsx(B,{children:e.jsxs(I,{className:"border-b border-slate-800 bg-slate-900",children:[e.jsxs(h,{onClick:()=>f("name"),className:"text-slate-300 cursor-pointer hover:bg-slate-800/50 transition-colors w-[30%]",children:["User ",e.jsx(w,{column:"name"})]}),e.jsxs(h,{onClick:()=>f("account_based_in"),className:"text-slate-300 cursor-pointer hover:bg-slate-800/50 transition-colors w-[20%]",children:["Location ",e.jsx(w,{column:"account_based_in"})]}),e.jsxs(h,{onClick:()=>f("follower_count"),className:"text-right text-slate-300 cursor-pointer hover:bg-slate-800/50 transition-colors w-[20%]",children:["Followers ",e.jsx(w,{column:"follower_count"})]}),e.jsxs(h,{onClick:()=>f("number_of_tweets"),className:"text-right text-slate-300 cursor-pointer hover:bg-slate-800/50 transition-colors w-[15%]",children:["Tweets ",e.jsx(w,{column:"number_of_tweets"})]}),e.jsx(h,{className:"text-center text-slate-300 w-[15%]",children:"Action"})]})})}),e.jsx("div",{ref:b,className:"overflow-y-auto w-full flex-1 custom-scrollbar",children:e.jsx("div",{style:{height:`${g.getTotalSize()}px`,width:"100%",position:"relative"},children:g.getVirtualItems().map(s=>{var n;const t=j[s.index];return e.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${s.size}px`,transform:`translateY(${s.start}px)`},className:"border-b border-slate-800/50 hover:bg-slate-800/50 transition-colors flex items-center",children:[e.jsxs("div",{className:"w-[30%] px-4 py-2 flex items-center gap-3",children:[t.profile_pic_url?e.jsx("img",{src:t.profile_pic_url,className:"w-10 h-10 rounded-full object-cover ring-2 ring-slate-800 shrink-0",alt:"avatar"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-bold text-slate-400 border border-slate-700 shrink-0",children:(n=t.name)==null?void 0:n[0]}),e.jsxs("div",{className:"truncate",children:[e.jsx(u,{className:"font-medium text-slate-200 truncate",children:e.jsx($,{text:t.name})}),e.jsxs(u,{className:"text-xs text-slate-500 truncate",children:["@",t.username]})]})]}),e.jsx("div",{className:"w-[20%] px-4 py-2",children:e.jsx(T,{size:"xs",color:"slate",className:"rounded truncate max-w-full inline-block",children:t.account_based_in||"Unknown"})}),e.jsx("div",{className:"w-[20%] px-4 py-2 text-right",children:e.jsx(u,{className:"font-mono text-slate-400",children:new Intl.NumberFormat("en-US",{notation:"compact"}).format(t.follower_count)})}),e.jsx("div",{className:"w-[15%] px-4 py-2 text-right",children:e.jsx(u,{className:"font-mono text-slate-400",children:new Intl.NumberFormat("en-US",{notation:"compact"}).format(t.number_of_tweets)})}),e.jsxs("div",{className:"w-[15%] px-4 py-2 flex items-center justify-center gap-2",children:[e.jsx(C,{to:`/user/${t.username}`,children:e.jsx(V,{size:"xs",variant:"secondary",className:"px-3",children:"View"})}),e.jsx("a",{href:`https://twitter.com/${t.username}`,target:"_blank",rel:"noreferrer",className:"text-slate-500 hover:text-blue-400 transition-colors",children:e.jsx(Y,{className:"w-5 h-5"})})]})]},s.key)})})})]})]})};export{X as default};
